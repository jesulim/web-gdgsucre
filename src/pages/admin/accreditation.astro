---
import { getProfile } from "@/lib/services/profileService"
import { createUserClient } from "@/lib/supabase"

const supabase = await createUserClient(Astro.cookies)
const profile = await getProfile(supabase)

if (!profile?.is_admin) {
  return Astro.redirect("/")
}

// Redirigir a la página principal del admin, que ahora tiene la navegación integrada
return Astro.redirect("/admin")
---
