---
import type { ImageMetadata } from "astro"

export interface Tag {
  label: string
  class?: string
}

export interface Props {
  start: string
  end: string
  title: string
  speaker: string
  tags?: Tag[]
  photoSrc: string | ImageMetadata
  photoAlt?: string
  imageSide?: "right" | "left"
}

const {
  start,
  end,
  title,
  speaker,
  tags = [],
  photoSrc,
  photoAlt = speaker || "Ponente",
  imageSide = "right",
}: Props = Astro.props

const resolvedPhotoSrc = typeof photoSrc === "string" ? photoSrc : photoSrc.src

const containerDir = imageSide === "left" ? "flex-col md:flex-row" : "flex-col md:flex-row-reverse"

const infoPads = imageSide === "right" ? "md:pl-[72px] md:pr-[24px]" : "md:pl-[24px] md:pr-[72px]"
---

<div
  class={`flex ${containerDir} items-center md:w-[638px] h-fit justify-between gap-[0px] p-[32px] md:p-0 rounded-[64px] md:rounded-[100px] bg-[#1E1E1E] text-white shadow-2xl`}
>
  <!-- Imagen -->
  <div class="shrink-0">
    <img
      src={resolvedPhotoSrc}
      alt={photoAlt}
      class="h-[200px] rounded-full object-cover border-[6px] border-white"
    />
  </div>

  <!-- Info -->
  <div class={`flex flex-col ${infoPads} py-[24px]`}>
    <p class="text-[#3A84FF] font-bold text-[24px]">
      {start} â€“ {end}
    </p>

    <h3 class="mt-1 text-[20px] font-bold leading-tight">
      {title}
    </h3>

    <div class="flex justify-between font-medium">
      <p class="mt-2 text-white">
        {speaker}
      </p>

      {tags.length > 0 && (
        <div class="mt-2 flex gap-x-1 font-bold items-center">
          {tags.map((t, i) => (
            <>
              <span class={t.class ?? "text-neutral-200"}>{t.label}</span>
              {i < tags.length - 1 && <span class="text-white">&</span>}
            </>
          ))}
        </div>
      )}
    </div>
  </div>
</div>
