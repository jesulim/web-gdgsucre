---
import Clock from "@/assets/events/devfest-25/clock.svg"

interface Props {
  type: "talk" | "event"
  time: string
  title: string
  description?: string
  speaker?: string
}

const { type, time, title, description, speaker } = Astro.props

const isTalk = type === "talk"
const accentClasses = isTalk ? "border-red-500 text-red-500" : "border-white text-white"
const iconColor = isTalk ? "text-red-500" : "text-white"

const textBase = "w-full text-base leading-tight md:text-2xl"
---

<article
  class:list={[
    "flex flex-col gap-2.5 rounded-2xl border-2 bg-white/5 p-5 md:gap-3 md:rounded-2xl md:border-2 md:p-5",
    accentClasses.split(" ")[0],
  ]}
  data-event-type={type}
>
  <div class="flex flex-col gap-0.5 md:gap-1">
    <h3 class="text-xl font-bold leading-tight text-white md:text-3xl">
      {title}
    </h3>

    {
      speaker && (
        <p class:list={[textBase, "font-normal text-white"]}>{speaker}</p>
      )
    }

    {description && <p class:list={[textBase, "text-white"]}>{description}</p>}
  </div>

  <div class="flex items-center gap-1.5 md:gap-2">
    <Clock
      class:list={["h-[18px] w-[18px] md:h-6 md:w-6", iconColor]}
      aria-hidden="true"
    />
    <time
      datetime={time}
      class:list={["text-base font-bold leading-tight md:text-xl", iconColor]}
    >
      {time}
    </time>
  </div>
</article>
