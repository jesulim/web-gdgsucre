---
import { Button } from "@/components/ui/button"
import { createUserClient } from "@/lib/supabase"

const supabase = await createUserClient(Astro.cookies)
const {
  data: { user },
} = await supabase.auth.getUser()
---

<div class="flex gap-2 items-center">
  {
    user ? (
      <a href="/api/auth/signout">
        <Button type="submit" variant="destructive">
          Cerrar sesión
        </Button>
      </a>
    ) : (
      <a href="/api/auth/signin">
        <Button type="submit" className="bg-[#6096e7]">
          Iniciar sesión
        </Button>
      </a>
    )
  }
</div>
